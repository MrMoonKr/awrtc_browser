<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="./bundle/apps.js"></script>

</head>
<body>
    <div id="videoinputapp1">
        <h1>Callapp1:</h1>
        URL to connect:
        <p class="callapp_url">
    
        </p>
        <input type="checkbox" name="audio" class="callapp_send_audio" checked autocomplete="off"> Audio
        <input type="checkbox" name="video" class="callapp_send_video" checked autocomplete="off"> Video
        <input type= "text" class="callapp_address" autocomplete="off">
        <button class="callapp_button"> Join </button>
        <div class="callapp_local_video">local video</div>
        <div class="callapp_remote_video">remote video</div>
    </div>
	
    test video generator:<br>
    <!--<canvas id="canvas1" width="3820" height="1920"> </canvas>-->
    <canvas id="canvas1" width="2880" height="1440"> </canvas>
    <!--<canvas id="canvas1" width="382" height="192"> </canvas> -->
    <!--<canvas id="canvas1" width="1920" height="1080"> </canvas> -->
    <!--<canvas id="canvas1" width="1280" height="720"> </canvas>-->
    <script> 
    var rgbToHex = function (rgb) { 
        var hex = Number(rgb).toString(16);
        if (hex.length < 2) {
             hex = "0" + hex;
        }
        return hex;
      };
        const targetFps = 30;
        const canvas = document.querySelector("#canvas1");
        const ctx = canvas.getContext("2d");
        let counter = 0;
        setInterval(()=>{
            const step = counter%255;
            const relpos = step / 255;
            const color = "#FFFF" + rgbToHex(step);
            ctx.fillStyle = color;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            counter++;
            

                
            const posx = (canvas.width-1) * relpos;
            const posy = (canvas.height-1) * relpos;
            ctx.fillStyle = "#000000";
            ctx.fillRect(posx, posy, canvas.width * 0.05, canvas.height * 0.05);

        }, 1000 / targetFps);
        
        apps.videoinputapp(document.querySelector("#videoinputapp1"), canvas);
        

    </script>
</body>
</html>